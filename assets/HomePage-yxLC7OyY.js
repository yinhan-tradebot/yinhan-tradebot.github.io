import{ao as $,b as n,e as r,f as u,F as m,v as d,an as C,n as k,u as D,as as w,s as U,i as v,aL as E,a_ as F,ap as P}from"./index-CzFemasy.js";const T={__name:"MyGrid",props:["grid"],setup(g){return(y,h)=>(n(),r("table",null,[u("tbody",null,[(n(!0),r(m,null,d(g.grid,(l,i)=>(n(),r("tr",{key:i},[(n(!0),r(m,null,d(l,(o,t)=>(n(),r("td",{key:t,style:C({color:o.color})},k(D(w).getCell2(o)),5))),128))]))),128))])]))}},b=$(T,[["__scopeId","data-v-2139600c"]]),B={style:{margin:"auto"}},O="https://api.binance.com",j="https://eapi.binance.com",G={__name:"HomePage",setup(g){function y(o){Object.keys(o).forEach(t=>{isNaN(parseFloat(o[t]))||(o[t]=parseFloat(o[t]))})}class h{async get(t){return t=`https://www.frontline-optimizer.com/api/proxy?url=${encodeURIComponent(t)}`,(await E.get(t)).data}async spotKline(t="BTCUSDT",e="5m",c=500){const s=await this.get(`${O}/api/v3/klines?symbol=${t}&interval=${e}&limit=${c}`);console.log(s)}async getOptTickers(){const t=await this.get(`${j}/eapi/v1/ticker`),e={};t.forEach(s=>{y(s);const[a,f,_,S]=s.symbol.split("-");e[a]||(e[a]={C:[],P:[],vol:0,volUSD:0});const p=e[a];p[S].push(s),p.vol+=s.volume,p.volUSD+=s.amount}),Object.values(e).forEach(s=>{const a=(f,_)=>_.amount-f.amount;s.C.sort(a),s.P.sort(a)});const c={};Object.keys(e).sort((s,a)=>e[a].volUSD-e[s].volUSD).forEach(s=>{c[s]=e[s]}),this.optTickers=c}async load(){const t=await F("/docs/optTickers.json");console.log(t),this.optTickers=t}}function l(o){const t=[["symbol","volume(USD)","change"]];return o.slice(0,10).forEach(e=>{t.push([e.symbol,e.amount.toFixed(0),P(e.priceChangePercent,2)])}),t}const i=U(new h);return i.load(),(o,t)=>(n(),r("div",B,[u("div",{class:"button m10",onClick:t[0]||(t[0]=e=>i.getOptTickers())},"fetch options ticker data"),(n(!0),r(m,null,d(i.optTickers,(e,c)=>(n(),r("div",{key:c,class:"m10"},[u("h3",null,k(`${c}. Volume(USD): ${e.volUSD.toFixed(0)}, Calls: ${e.C.length}, Puts: ${e.P.length}.`),1),v(b,{class:"m10",grid:l(e.C)},null,8,["grid"]),v(b,{class:"m10",grid:l(e.P)},null,8,["grid"])]))),128))]))}};export{G as default};
